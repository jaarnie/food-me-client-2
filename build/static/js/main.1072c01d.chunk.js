(this["webpackJsonpfood-me-2"]=this["webpackJsonpfood-me-2"]||[]).push([[1],{135:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(60),o=t(318),i=t(316),l=t(52),s=t(23),u=Object(c.a)((function(){return{content:{justifyContent:"center",color:s.a}}})),m=function(e){var a=e.value,t=e.title,n=e.votes,c=u();return r.a.createElement("div",null,r.a.createElement(i.a,{component:"fieldset",mb:3,borderColor:"transparent",textAlign:"center"},r.a.createElement(l.a,{component:"legend"},t),r.a.createElement(o.a,{className:c.content,value:a,readOnly:!0,precision:.1}),n&&r.a.createElement(l.a,null,"Votes: ",n," ")))};m.defaultProps={value:0,title:"",votes:""},a.a=r.a.memo(m)},136:function(e,a,t){"use strict";var n=t(19),r=t(20),c=t(0),o=t.n(c),i=t(60),l=t(310),s=t(311),u=t(312),m=t(89),p=Object(i.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:500,height:500,transform:"translateZ(0)"},titleBar:{background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},icon:{color:"white"},modal:{}}})),d={footer:function(e){return Object(r.a)({},e,{background:"none !important",color:"#666",padding:0,paddingTop:20,position:"static","& a":{color:"black"}})},header:function(e){return Object(r.a)({},e,{background:"none !important",padding:0,paddingRight:50,paddingTop:50,position:"static"})},headerClose:function(e){return Object(r.a)({},e,{color:"#666",":hover":{color:"#DE350B"}})},view:function(e){return Object(r.a)({},e,{maxHeight:480,overflow:"hidden"})}},f=function(e){var a=e.photos,t=p(),r=Object(c.useState)({selectedIndex:0,lightboxIsOpen:!1,isLoading:!1,imageUrls:[]}),i=Object(n.a)(r,2),f=i[0],v=i[1],E=f.selectedIndex,b=f.lightboxIsOpen,g=f.isLoading,h=function(e){v({lightboxIsOpen:!b,selectedIndex:e})};return o.a.createElement("div",{className:t.root},o.a.createElement(l.a,{cellHeight:200,spacing:1,className:t.gridList},a.map((function(e,a){var n=e.photo;return o.a.createElement(s.a,{key:n.id,onClick:function(){return h(a)}},o.a.createElement("img",{src:n.url,alt:n.caption}),o.a.createElement(u.a,{title:n.caption,titlePosition:"top",className:t.titleBar}))}))),o.a.createElement(m.b,null,b&&!g&&function(){var e=[];return a.map((function(a){return e.push({src:a.photo.url})})),o.a.createElement(m.a,{onClose:h},o.a.createElement(m.c,{styles:d,currentIndex:E,closeOnBackdropClick:!0,frameProps:{autoSize:"height"},views:e}))}()))};f.defaultProps={photos:[]},a.a=o.a.memo(f)},149:function(e,a,t){"use strict";var n=t(14),r=t.n(n),c=t(22),o=t(0),i=t.n(o),l=t(29),s=t.n(l),u=t(162),m=t(314),p=t(85),d=t(16),f=t(17),v=function(e){var a=e.restaurant,t=Object(o.useContext)(d.a),n=t.state,l=t.dispatch,v=s.a.create({baseURL:f.e,headers:f.d}),E=function(){var e=Object(c.a)(r.a.mark((function e(){var t,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.user){e.next=25;break}return t=n.favorites.includes(a),c={type:"ADD_FAVORITE",payload:a},e.prev=3,e.next=6,v.post("/favorites",{user_id:n.user.id,res_id:a.R.res_id});case 6:e.sent.status,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:if(!t){e.next=24;break}return o=n.favorites.filter((function(e){return e!==a})),c={type:"REMOVE_FAVORITE",payload:o},e.prev=15,e.next=18,v.delete("/favorites/remove/".concat(n.user.id,"/").concat(a.R.res_id),{res_id:a.R.res_id});case 18:e.sent.status,e.next=24;break;case 22:e.prev=22,e.t1=e.catch(15);case 24:return e.abrupt("return",l(c));case 25:return e.abrupt("return",i.a.createElement(p.a,null));case 26:case"end":return e.stop()}}),e,null,[[3,10],[15,22]])})));return function(){return e.apply(this,arguments)}}(),b=Object(o.useCallback)((function(){return n.favorites.includes(a)?"red":null}),[a,n.favorites]);return i.a.createElement("div",null,i.a.createElement(u.a,{"aria-label":"add to favorites",onClick:E},i.a.createElement(m.a,{style:{color:b()},value:a.id})))};v.defaultProps={restaurant:{}},a.a=i.a.memo(v)},16:function(e,a,t){"use strict";t.d(a,"a",(function(){return l})),t.d(a,"b",(function(){return m}));var n=t(19),r=t(159),c=t(20),o=t(0),i=t.n(o),l=i.a.createContext(),s={user:null,restaurants:null,filteredRestaurants:null,favorites:[],userGeoLocation:null,userLocation:null,title:"hello"};function u(e,a){switch(a.type){case"SET_RESTARUANTS":return Object(c.a)({},e,{restaurants:a.payload});case"ADD_FAVORITE":return Object(c.a)({},e,{favorites:[].concat(Object(r.a)(e.favorites),[a.payload])});case"REMOVE_FAVORITE":return Object(c.a)({},e,{favorites:a.payload});case"SET_USER":return Object(c.a)({},e,{user:a.payload});case"GET_GEOLOCATION":return Object(c.a)({},e,{userGeoLocation:a.payload});case"SET_LOCATION":return Object(c.a)({},e,{userLocation:a.payload});case"SET_TITLE":return Object(c.a)({},e,{title:a.payload});case"FILTERED_RESTAURANTS":return Object(c.a)({},e,{filteredRestaurants:a.payload});default:return Object(c.a)({},e)}}function m(e){var a=i.a.useReducer(u,s),t=Object(n.a)(a,2),r={state:t[0],dispatch:t[1]};return i.a.createElement(l.Provider,{value:r},e.children)}},17:function(e,a,t){"use strict";t.d(a,"b",(function(){return r})),t.d(a,"c",(function(){return c})),t.d(a,"a",(function(){return o})),t.d(a,"e",(function(){return i})),t.d(a,"d",(function(){return l}));var n={search:"https://developers.zomato.com/api/".concat("v2.1"),headers:{"Content-Type":"application/json","user-key":"87be592b7c816cd2e00737b271776b7f"},server:"https://food-me-server.herokuapp.com/api/".concat("v1"),serverHeaders:{"Content-Type":"application/json"},postcode:"https://api.postcodes.io/postcodes"},r=n.postcode,c=n.search,o=n.headers,i=n.server,l=n.serverHeaders},170:function(e,a,t){e.exports=t(305)},175:function(e,a,t){},23:function(e,a,t){"use strict";t.d(a,"b",(function(){return n})),t.d(a,"a",(function(){return r}));var n=function(e){return"https://www.google.com/maps/search/?api=1&query=".concat(e.location.address)},r="#235451"},305:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(10),o=t.n(c),i=(t(175),t(31)),l=t(47),s=t(42);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=t(354),m=t(353),p=t(52),d=t(60),f=t(16),v=t(23),E=t(14),b=t.n(E),g=t(22),h=t(19),y=t(349),O=t(373),x=t(29),w=t.n(x),k=t(17),j=Object(d.a)((function(e){return{container:{display:"flex",flexWrap:"wrap",justifyContent:"center",marginBottom:"2vh"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},dense:{marginTop:e.spacing(2)},menu:{width:200},button:{margin:e.spacing(1),backgroundColor:v.a},input:{display:"none"}}})),C=r.a.memo((function(){var e=Object(n.useContext)(f.a),a=e.state,t=e.dispatch,c=j(),o=Object(s.useSnackbar)(),i=o.enqueueSnackbar,l=o.closeSnackbar,u=Object(n.useState)(""),m=Object(h.a)(u,2),p=m[0],d=m[1],v=w.a.create({baseURL:k.c,headers:k.a});function E(e){return e.preventDefault(),t({type:"SET_RESTARUANTS",payload:null})}var x=function(){var e=Object(g.a)(b.a.mark((function e(n){var r,c,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),i("thinking...",{variant:"info",persist:!0}),r="",c=a.userLocation&&a.userLocation.location.entity_id,p&&(r="/search?entity_id=61&entity_type=city&q=".concat(p,"&count=50&radius=1000")),c&&(r="/search?entity_id=".concat(c&&c,"&entity_type=subzone&count=50&radius=1000")),p&&c&&(r="/search?entity_id=".concat(c&&c,"&entity_type=subzone&q=").concat(p,"&count=50&radius=1000")),c||p||(r="/search?entity_id=61&entity_type=city"),e.prev=8,e.next=11,v.get(r);case 11:0!==(o=e.sent).data.results_found&&200===o.status?(t({type:"SET_RESTARUANTS",payload:o.data.restaurants}),l()):0===o.data.results_found&&(i("No results found",{variant:"warning"}),t({type:"SET_TITLE",payload:"no results found :("})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),i(e.t0,{variant:"error"});case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("form",{className:c.container,noValidate:!0,autoComplete:"off"},r.a.createElement(O.a,{id:"standard-search",label:"Nom nom",placeholder:"eg. Burgers",className:c.textField,size:"medium",type:"search",onChange:function(e){var a=e.target.value;d(a)}})),r.a.createElement((function(){return r.a.createElement("div",{className:c.container},r.a.createElement(y.a,{variant:"contained",color:"primary",size:"medium",className:c.button,type:"submit",onClick:x},"Search"),a.restaurants&&r.a.createElement(y.a,{variant:"contained",color:"primary",className:c.button,type:"submit",onClick:E},"Clear"))}),null))})),_=t(162),N=t(351),S=t(352),T=Object(d.a)((function(e){return{root:{marginTop:"3vh",alignItems:"center",width:200},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10}}})),L=r.a.memo((function(){var e=Object(l.f)(),a=T(),t=Object(s.useSnackbar)(),c=t.enqueueSnackbar,o=t.closeSnackbar,i=Object(n.useContext)(f.a),u=i.state,m=i.dispatch,p=Object(n.useState)({locationSearchTerm:""}),d=Object(h.a)(p,2),v=d[0],E=d[1],y=w.a.create({baseURL:k.c,headers:k.a}),x=w.a.create({baseURL:k.b}),j=Object(n.useCallback)(function(){var a=Object(g.a)(b.a.mark((function a(t){var n,r,c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n="",r="",t.location&&(n=t.location.entity_id,r=t.location.entity_type),t.searchedLocation&&(n=t.searchedLocation.entity_id,r=t.searchedLocation.entity_type),a.next=6,y.get("location_details?entity_id=".concat(n,"&entity_type=").concat(r));case 6:c=a.sent,m({type:"SET_LOCATION",payload:c.data}),m({type:"SET_RESTARUANTS",payload:c.data.best_rated_restaurant}),o(),e.push("/");case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[]),C=Object(n.useCallback)(function(){var e=Object(g.a)(b.a.mark((function e(a,t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("geocode?lat=".concat(a,"&lon=").concat(t));case 2:n=e.sent,j(n.data);case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),[]),L=function(){var e=Object(g.a)(b.a.mark((function e(){var a,t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.get("locations?query=".concat(v.locationSearchTerm));case 3:200===(a=e.sent).status&&(t=a.data.location_suggestions[0].latitude,n=a.data.location_suggestions[0].longitude,C(t,n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c("Error",{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(g.a)(b.a.mark((function e(){var a,t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("/".concat(v.locationSearchTerm));case 3:200===(a=e.sent).status&&(t=a.data.result.latitude,n=a.data.result.longitude,C(t,n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c("Error",{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(g.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),/\d/.test(v.locationSearchTerm)?(c("thinking...",{variant:"info",persist:!0}),R()):""!==v.locationSearchTerm&&(c("thinking...",{variant:"info",persist:!0}),L());case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(u.userGeoLocation){var e=u.userGeoLocation.coords.latitude,a=u.userGeoLocation.coords.longitude;C(e,a)}u.searchedLocation&&j(u.searchedLocation)}),[C,j,u.searchedLocation,u.userGeoLocation]),r.a.createElement("div",{className:a.root},r.a.createElement(O.a,{id:"standard-search",label:"Where to?",placeholder:"Town/Area/Postcode",className:a.input,size:"medium",type:"search",onChange:function(e){E({locationSearchTerm:e.target.value})}}),r.a.createElement(_.a,{className:a.iconButton,"aria-label":"search",onClick:A},r.a.createElement(N.a,null)),r.a.createElement(_.a,{className:a.iconButton,"aria-label":"search",onClick:function(){c("thinking...",{variant:"info",persist:!0}),window.navigator.geolocation.getCurrentPosition((function(e){e?m({type:"GET_GEOLOCATION",payload:e}):c("Error",{variant:"error"})}))}},r.a.createElement(S.a,null)))})),R=t(73),A=r.a.lazy((function(){return t.e(4).then(t.bind(null,381))})),I=Object(d.a)({title:{color:v.a},userLocation:{display:"grid",justifyContent:"center"},search:{alignContent:"center"}});function D(){var e=I(),a=Object(n.useContext)(f.a).state;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{className:e.title,variant:"h3"},a.userLocation?a.userLocation.location.title.split(", ")[0]:a.title),r.a.createElement("div",{className:e.userLocation},r.a.createElement(L,null)),r.a.createElement("div",{className:e.search},r.a.createElement(C,null)),r.a.createElement(r.a.Suspense,{fallback:Object(R.a)()},a.restaurants&&r.a.createElement(A,null)))}var F=t(58),W=t(41),B=t(20),U=t(355),G=t(357),z=t(356),P=t(374),q=t(316),V=t(359),M=t(33),H=t(155),Y=t.n(H),J=t(161),Z=t(358),K=Object(d.a)((function(e){return{root:{padding:e.spacing(3,2)},progressBar:{padding:10,marginBottom:10},textBox:{align:"justify"}}})),$=function(e){var a=e.password,t=K(),n=Y()(a);return r.a.createElement("div",null,r.a.createElement(J.a,{className:t.root},r.a.createElement(Z.a,{className:t.progressBar,variant:"determinate",value:25*n.score})))};$.defaultProps={password:""};var Q=r.a.memo($);function X(){return r.a.createElement(p.a,{variant:"body2",color:"textSecondary",align:"center"},r.a.createElement("a",{href:"https://github.com/jaarnie/",target:"_blank",rel:"noopener noreferrer"},"github |")," ",(new Date).getFullYear())}var ee=Object(d.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),backgroundColor:v.a},footer:{marginBottom:"20px"}}})),ae=function(e){var a=e.history,t=r.a.useContext(f.a).dispatch,c=ee(),o=Object(s.useSnackbar)().enqueueSnackbar,i=Object(n.useState)({firstName:"",lastName:"",email:"",password:"",passwordConfirmation:"",marketingCheckbox:!1}),l=Object(h.a)(i,2),d=l[0],v=l[1],E=Object(n.useState)({err:""}),x=Object(h.a)(E,2),j=x[0],C=x[1],_=w.a.create({baseURL:k.e,headers:k.d}),N=function(){var e=Object(g.a)(b.a.mark((function e(n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,_.post("/users",{user:{first_name:d.firstName,last_name:d.lastName,email:d.email,password:d.password,password_confirmation:d.passwordConfirmation,marketing_checkbox:d.marketingCheckbox}});case 4:201===(r=e.sent).status&&(t({type:"SET_USER",payload:r.data}),o("Welcome, ".concat(r.data.first_name),{variant:"success"}),a.push("/")),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),C({err:e.t0}),o("Error",{variant:"error",autoHideDuration:3e3});case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),S=Object(n.useCallback)((function(e){var a=e.target.name,t=e.target.value;v(Object(B.a)({},d,Object(W.a)({},a,t))),console.log(d)}),[d]),T=Object(n.useCallback)((function(e){v(Object(B.a)({},d,{marketingCheckbox:e}))}),[d]);return r.a.createElement(m.a,{component:"main",maxWidth:"xs"},r.a.createElement(u.a,null),r.a.createElement("div",{className:c.paper},r.a.createElement(U.a,{className:c.avatar},r.a.createElement(V.a,null)),r.a.createElement(p.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:c.form,noValidate:!0},r.a.createElement(G.a,{container:!0,spacing:2},r.a.createElement(G.a,{item:!0,xs:12,sm:6},r.a.createElement(O.a,{autoComplete:"fname",name:"firstName",variant:"outlined",error:!!j.err.first_name,required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:S})),r.a.createElement(G.a,{item:!0,xs:12,sm:6},r.a.createElement(O.a,{variant:"outlined",error:!!j.err.last_name,required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:S})),r.a.createElement(G.a,{item:!0,xs:12},r.a.createElement(O.a,{variant:"outlined",error:!!j.err.email,required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:S})),r.a.createElement(G.a,{item:!0,xs:12},r.a.createElement(O.a,{variant:"outlined",error:!!j.err.password,required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:S})),r.a.createElement(G.a,{item:!0,xs:12},r.a.createElement(Q,{password:d.password})),r.a.createElement(G.a,{item:!0,xs:12},r.a.createElement(O.a,{variant:"outlined",error:!!j.err.password_confirmation,required:!0,fullWidth:!0,name:"passwordConfirmation",label:"Confirm Password",type:"password",id:"password-confirmation",onChange:S})),r.a.createElement(G.a,{item:!0,xs:12},r.a.createElement(z.a,{control:r.a.createElement(P.a,{name:"marketingCheckbox",color:"primary",onChange:function(e){var a=e.currentTarget.checked;T(a)}}),label:"I want to updates via email."}))),r.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,onClick:function(e){return N(e)}},"Sign Up"),r.a.createElement(G.a,{container:!0,justify:"center"},r.a.createElement(G.a,{item:!0},r.a.createElement(M.a,{to:"/sign-in"},"Already have an account? Sign in"))))),r.a.createElement(q.a,{mt:5},r.a.createElement("div",{className:c.footer},r.a.createElement(X,null))))};ae.defaultProps={history:{}};var te=r.a.memo(ae),ne=t(350),re=t(309),ce=t(360),oe=t(362),ie=t(361),le=t(363),se=r.a.lazy((function(){return t.e(0).then(t.bind(null,380))})),ue=Object(d.a)((function(){return{root:{flexGrow:1}}}));function me(){var e=Object(n.useContext)(f.a).state,a=ue();return r.a.createElement("div",{className:a.root},r.a.createElement(r.a.Suspense,{fallback:Object(R.a)()},r.a.createElement(G.a,{container:!0,spacing:2},e.favorites.map((function(e){return r.a.createElement(G.a,{item:!0,xs:12,sm:6,key:e.id},r.a.createElement(se,{r:e}))})))))}var pe=Object(d.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},title:{padding:e.spacing(2),color:v.a},icon:{padding:e.spacing(2),textAlign:"left",color:v.a}}}));function de(){var e=Object(n.useContext)(f.a).state,a=pe();return r.a.createElement((function(){return e.user?r.a.createElement("div",{className:a.root},r.a.createElement(G.a,{container:!0,spacing:3},r.a.createElement(G.a,{item:!0,xs:12},r.a.createElement(p.a,{className:a.title,variant:"h3"},e.user&&e.user.first_name)),r.a.createElement(G.a,{item:!0,xs:12,sm:6},r.a.createElement(J.a,{className:a.icon},r.a.createElement(ne.a,{component:"nav","aria-label":"main mailbox folders"},r.a.createElement(re.a,null,r.a.createElement(ce.a,null,r.a.createElement(ie.a,null)),r.a.createElement(oe.a,{primary:"".concat(e.user.first_name," ").concat(e.user.last_name)})),r.a.createElement(re.a,null,r.a.createElement(ce.a,null,r.a.createElement(le.a,null)),r.a.createElement(oe.a,{primary:e.user.email}))))),r.a.createElement(G.a,{item:!0,xs:12,sm:6})),r.a.createElement(p.a,{className:a.title,variant:"h4"},"Favorites"),r.a.createElement(me,null)):r.a.createElement(F.a,null)}),null)}function fe(){return r.a.createElement("div",null,"404")}var ve=t(365),Ee=t(366),be=t(156),ge=t.n(be),he=t(364),ye=t(135),Oe=Object(d.a)((function(e){return{root:{width:"100%",maxWidth:"100%",backgroundColor:e.palette.background.paper},inline:{display:"inline"},ratingStars:{color:"red"}}})),xe=function(e){var a=e.review,t=Oe();return r.a.createElement(ne.a,{className:t.root},r.a.createElement(re.a,{alignItems:"flex-start"},r.a.createElement(he.a,null,r.a.createElement(U.a,{alt:"avatar",src:a.user.profile_image})),r.a.createElement(oe.a,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{variant:"subtitle1"},a.user.name),r.a.createElement(p.a,{variant:"subtitle2"},a.review_time_friendly),r.a.createElement(ye.a,{value:a.rating,align:"left"})),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{component:"span",variant:"body1",className:t.inline,color:"textPrimary"},a.review_text))})),r.a.createElement(ve.a,{variant:"inset",component:"li"}))};xe.defaultProps={review:{}};var we=r.a.memo(xe),ke=t(136),je=t(149),Ce=Object(d.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},icon:{flexGrow:1,margin:e.spacing(2),display:"flex",flexDirection:"row wrap",justifyContent:"center"}}})),_e=r.a.memo((function(e){var a=Ce(),t=Object(n.useState)({reviewsArray:null}),c=Object(h.a)(t,2),o=c[0],i=c[1],l=e.location.state.restaurant,s=w.a.create({baseURL:k.c,headers:k.a});Object(n.useEffect)((function(){(function(){var e=Object(g.a)(b.a.mark((function e(){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get("/reviews?res_id=".concat(l.id));case 2:a=e.sent,i({reviewsArray:a.data.user_reviews});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var u=function(){return r.a.createElement("div",{style:{height:"50vh",width:"100%"}},r.a.createElement(ge.a,{bootstrapURLKeys:{key:"AIzaSyCF2YD3FDM-YnvIuoIxljsepN0xU4G6Wjk"},defaultCenter:[parseFloat(l.location.latitude),parseFloat(l.location.longitude)],defaultZoom:16,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){return function(e,a){return new a.Marker({position:{lat:parseFloat(l.location.latitude),lng:parseFloat(l.location.longitude)},map:e,title:"Hello World!"})}(e.map,e.maps)}}))};return r.a.createElement("div",{className:a.root},r.a.createElement(G.a,{container:!0,spacing:3},r.a.createElement(G.a,{item:!0,xs:12},r.a.createElement(J.a,{className:a.paper,style:{backgroundImage:"url(".concat(l.featured_image,")")}},r.a.createElement(J.a,{className:a.paper},r.a.createElement(p.a,{variant:"h3"},l.name),r.a.createElement(p.a,{variant:"h6"},l.location.address),r.a.createElement("div",{className:a.icon},r.a.createElement(je.a,{restaurant:l}),r.a.createElement(_.a,{"aria-label":"place",target:"_blank",href:Object(v.b)(l)},r.a.createElement(Ee.a,null)))))),function(){var e=l.photos?6:12;return r.a.createElement(G.a,{container:!0,spacing:3},r.a.createElement(G.a,{item:!0,xs:12,sm:e},r.a.createElement(J.a,{className:a.paper},u())),l.photos&&r.a.createElement(G.a,{item:!0,xs:12,sm:6},r.a.createElement(J.a,{className:a.paper,style:{height:"100%"}},r.a.createElement(ke.a,{photos:l.photos}))))}(),r.a.createElement(G.a,{item:!0,xs:12},r.a.createElement(J.a,{className:a.paper},"Overall Rating",r.a.createElement(p.a,{variant:"h4",style:{color:"#".concat(l.user_rating.rating_color)}},l.user_rating.aggregate_rating),l.user_rating.rating_text,r.a.createElement(ve.a,{style:{marginTop:"2vh"},variant:"middle"}),o.reviewsArray&&o.reviewsArray.map((function(e){return r.a.createElement(we,{key:e.review.id,review:e.review})}))))))}));var Ne=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null),r.a.createElement(m.a,{maxWidth:"md"},r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:D}),r.a.createElement(l.a,{path:"/sign-in",component:F.a}),r.a.createElement(l.a,{path:"/sign-up",component:te}),r.a.createElement(l.a,{path:"/profile",component:de}),r.a.createElement(l.a,{path:"/restaurant/:id",component:_e}),r.a.createElement(l.a,{component:fe}))))},Se=t(160),Te=t(367),Le=t(368),Re=t(369),Ae=t(370),Ie=t(314),De=t(313),Fe=t(371),We=t(372),Be=t(85),Ue=Object(d.a)((function(e){return{main:{position:"fixed",backgroundColor:v.a},grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(W.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),userName:{display:"block"},sectionDesktop:Object(W.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(W.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));var Ge=Object(i.a)();Ge.listen((function(){window.scrollTo(0,0)})),o.a.render(r.a.createElement(l.b,{history:Ge},r.a.createElement(s.SnackbarProvider,{maxSnack:1,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:2e3},r.a.createElement(f.b,null,r.a.createElement((function(){var e=Object(n.useContext)(f.a).state,a=Ue(),t=r.a.useState(null),c=Object(h.a)(t,2),o=c[0],i=c[1],l=r.a.useState(null),s=Object(h.a)(l,2),u=s[0],m=s[1],d=Boolean(o),v=Boolean(u);function E(){m(null)}var b=r.a.createElement(r.a.Fragment,null,r.a.createElement(Se.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:d,onClose:function(){i(null),E()}})),g=r.a.createElement(Se.a,{anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:v,onClose:E},r.a.createElement(Te.a,null,r.a.createElement(M.a,{to:"/profile"},r.a.createElement(_.a,{"aria-label":"user favorite count",color:"inherit"},r.a.createElement(Le.a,{badgeContent:e.favorites.length,color:"secondary"},r.a.createElement(Ie.a,null))))),r.a.createElement(Te.a,{onClick:function(e){i(e.currentTarget)}},r.a.createElement(M.a,{to:"/sign-in"},r.a.createElement(_.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(De.a,null)))));return r.a.createElement("div",{className:a.grow,style:{marginBottom:"10vh"}},r.a.createElement(Re.a,{className:a.main},r.a.createElement(Ae.a,null,r.a.createElement(p.a,{className:a.userName,variant:"h6",noWrap:!0},r.a.createElement(M.a,{to:"/"},"Food Me",r.a.createElement(Fe.a,null))),r.a.createElement("div",{className:a.grow}),r.a.createElement("div",{className:a.sectionDesktop},r.a.createElement(M.a,{to:"/profile"},r.a.createElement(_.a,{"aria-label":"user favorite count",color:"inherit"},r.a.createElement(Le.a,{badgeContent:e.favorites.length,color:"secondary"},r.a.createElement(Ie.a,null)))),r.a.createElement(Be.a,null),r.a.createElement(p.a,{className:a.title,variant:"h6",style:{margin:"1vh"}},e.user&&"Hi, ".concat(e.user.first_name," "))),r.a.createElement("div",{className:a.sectionMobile},r.a.createElement(_.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){m(e.currentTarget)},color:"inherit"},r.a.createElement(We.a,null))))),g,b)}),null),r.a.createElement(Ne,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},58:function(e,a,t){"use strict";var n=t(14),r=t.n(n),c=t(22),o=t(41),i=t(20),l=t(19),s=t(0),u=t.n(s),m=t(52),p=t(353),d=t(354),f=t(355),v=t(373),E=t(356),b=t(374),g=t(349),h=t(357),y=t(316),O=t(60),x=t(154),w=t.n(x),k=t(47),j=t(33),C=t(42),_=t(29),N=t.n(_),S=t(17),T=t(16),L=t(23),R=N.a.create({baseURL:S.c,headers:S.a}),A=function(){var e=Object(c.a)(r.a.mark((function e(a,t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],a.favorites.map((function(e){return n.push(e.res_id)})),e.prev=2,e.next=5,Promise.all(n.map(function(){var e=Object(c.a)(r.a.mark((function e(a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/restaurant?res_id=".concat(a));case 2:200===(n=e.sent).status&&t({type:"ADD_FAVORITE",payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()));case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(a,t){return e.apply(this,arguments)}}();function I(){return u.a.createElement(m.a,{variant:"body2",color:"textSecondary",align:"center"},u.a.createElement("a",{href:"https://github.com/jaarnie/",target:"_blank",rel:"noopener noreferrer"},"github |")," ",(new Date).getFullYear())}t.d(a,"a",(function(){return F}));var D=Object(O.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:L.a},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),backgroundColor:L.a},footer:{marginBottom:"20px"}}}));function F(){var e=Object(k.f)(),a=Object(s.useContext)(T.a).dispatch,t=Object(C.useSnackbar)().enqueueSnackbar,n=D(),O=N.a.create({baseURL:S.e,headers:S.d}),x=Object(s.useState)({email:"",password:""}),_=Object(l.a)(x,2),L=_[0],R=_[1],F=function(e){R(Object(i.a)({},L,Object(o.a)({},e.target.name,e.target.value)))},W=function(){var n=Object(c.a)(r.a.mark((function n(c){var o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),n.prev=1,n.next=4,O.post("/login",{email:L.email,password:L.password});case 4:if(200!==(o=n.sent).status){n.next=10;break}return t("Welcome, ".concat(o.data.first_name),{variant:"success"}),A(o.data,a),a({type:"SET_USER",payload:o.data}),n.abrupt("return",e.push("/"));case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),t("Error",{variant:"error"});case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e){return n.apply(this,arguments)}}();return u.a.createElement(p.a,{component:"main",maxWidth:"xs"},u.a.createElement(d.a,null),u.a.createElement("div",{className:n.paper},u.a.createElement(f.a,{className:n.avatar},u.a.createElement(w.a,null)),u.a.createElement(m.a,{component:"h1",variant:"h5"},"Sign in"),u.a.createElement("form",{className:n.form,noValidate:!0},u.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:F}),u.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:F}),u.a.createElement(E.a,{control:u.a.createElement(b.a,{value:"remember",color:"primary"}),label:"Remember me"}),u.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,onClick:W},"Sign In"),u.a.createElement(h.a,{container:!0,justify:"center"},u.a.createElement(h.a,{item:!0},u.a.createElement(j.a,{to:"/sign-up"},"Don't have an account? Sign Up"))))),u.a.createElement(y.a,{mt:8},u.a.createElement("div",{className:n.footer},u.a.createElement(I,null))))}},73:function(e,a,t){"use strict";t.d(a,"a",(function(){return l}));var n=t(0),r=t.n(n),c=t(60),o=t(163),i=Object(c.a)((function(e){return{content:{justifyContent:"center"},progress:{margin:e.spacing(2),alignItems:"center"}}})),l=function(){var e=i();return r.a.createElement("div",{className:e.content},r.a.createElement(o.a,{className:e.progress}))}},85:function(e,a,t){"use strict";t.d(a,"a",(function(){return p}));var n=t(19),r=t(0),c=t.n(r),o=t(162),i=t(317),l=t(313),s=t(47),u=t(16),m=t(58);function p(){var e=Object(s.f)(),a=Object(r.useContext)(u.a).state,t=Object(r.useState)(null),p=Object(n.a)(t,2),d=p[0],f=p[1],v=Boolean(d),E=v&&"sign-in-popover",b=function(){f(null)};return Object(r.useEffect)((function(){a.user&&b()})),c.a.createElement("div",null,c.a.createElement(o.a,{style:{color:"white"},onClick:function(t){return f(t.currentTarget),a.user&&e.push("/profile")}},c.a.createElement(l.a,null)),c.a.createElement(i.a,{id:E,open:v,anchorEl:d,onClose:b,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},c.a.createElement(m.a,null)))}}},[[170,2,3]]]);
//# sourceMappingURL=main.1072c01d.chunk.js.map